<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>P√°gina do Paciente | Dentrix</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #2c5282;
      --secondary: #3182ce;
      --accent: #4299e1;
      --bg: #f7fafc;
      --card-bg: #fff;
      --text: #2d3748;
      --muted: #718096;
      --radius: 16px;
      --shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    header {
      background: var(--card-bg);
      box-shadow: var(--shadow);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 40px;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .logo h1 {
      color: var(--primary);
      font-weight: 700;
      font-size: 26px;
      margin: 0;
    }

    .logo h1 a {
      text-decoration: none;
      color: inherit;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .logo h1 a:hover {
      opacity: 0.8;
    }

    nav ul {
      display: flex;
      list-style: none;
      gap: 30px;
      margin: 0;
      padding: 0;
    }

    nav a {
      text-decoration: none;
      color: var(--text);
      font-weight: 500;
      padding: 8px 14px;
      border-radius: 10px;
      transition: 0.2s;
    }

    nav a:hover {
      background: var(--secondary);
      color: #fff;
    }

    main {
      max-width: 1200px;
      margin: 40px auto;
      padding: 0 20px;
      display: grid;
      gap: 40px;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 25px 30px;
      transition: 0.3s ease;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
    }

    h2 {
      color: var(--secondary);
      font-size: 22px;
      margin-bottom: 25px;
    }

    .perfil-info {
      display: flex;
      align-items: center;
      gap: 25px;
      flex-wrap: wrap;
    }

    .perfil-icon {
      width: 120px;
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(145deg, var(--accent), var(--secondary));
      border-radius: 50%;
      color: white;
    }

    .detalhes p {
      margin: 6px 0;
    }
    
    .detalhes strong {
      color: var(--secondary);
    }

    .consultas-lista {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .consulta-card {
      background: #f8fbff;
      border-left: 5px solid var(--secondary);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: var(--shadow);
    }

    .consulta-card h4 {
      margin: 0 0 8px;
      color: var(--primary);
    }

    .consulta-card p {
      margin: 4px 0;
      font-size: 15px;
    }

    .status {
      display: inline-block;
      padding: 5px 12px;
      border-radius: 10px;
      font-size: 13px;
      font-weight: 600;
      color: #fff;
      margin-bottom: 10px;
    }

    .status.confirmada { background: #38a169; }
    .status.pendente { background: #dd6b20; }
    .status.cancelada { background: #718096; }

    .urgency-display {
      margin-top: 12px;
    }
    .urgency-display p {
      font-size: 13px;
      margin: 0 0 5px;
      color: var(--muted);
    }
    .urgency-bar-bg {
      background: #e2e8f0;
      border-radius: 10px;
      height: 8px;
      overflow: hidden;
    }
    .urgency-bar {
      height: 100%;
      border-radius: 10px;
    }
    .urgency-bar.low {
      width: 20%;
      background: linear-gradient(90deg, #63b3ed, #4299e1);
    }
    .urgency-bar.medium {
      width: 60%;
      background: linear-gradient(90deg, #f6ad55, #ed8936);
    }
    .urgency-bar.high {
      width: 100%;
      background: linear-gradient(90deg, #f56565, #e53e3e);
    }

    .pagamentos-lista {
      display: grid;
      gap: 20px;
    }
    .pagamento-card {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      background: #f8fbff;
      padding: 20px;
      border-radius: var(--radius);
      border: 1px solid #e2e8f0;
    }
    .pagamento-info h4 {
      margin: 0 0 5px;
      color: var(--text);
    }
    .pagamento-info p {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }
    .pagamento-info p strong {
      color: var(--primary);
      font-size: 16px;
    }
    .pagamento-acoes {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    .pagamento-acoes button {
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 600;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      color: white;
    }
    .btn-pix {
      background: #38A169;
    }
    .btn-boleto {
      background: #DD6B20;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text);
      font-size: 14px;
    }

    .form-group select,
    .form-group input[type="date"] {
      width: 100%;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      font-size: 15px;
      font-family: inherit;
      outline: none;
      transition: 0.2s;
      background: white;
    }

    .form-group select:focus,
    .form-group input:focus {
      border-color: var(--secondary);
      box-shadow: 0 0 0 3px rgba(49,130,206,0.2);
    }

    .slider-container {
      margin-top: 10px;
    }

    .slider-wrapper {
      position: relative;
      margin-bottom: 10px;
    }

    .slider {
      width: 100%;
      height: 8px;
      border-radius: 5px;
      background: #e2e8f0;
      outline: none;
      -webkit-appearance: none;
      appearance: none;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--secondary);
      cursor: pointer;
      transition: all 0.2s;
    }

    .slider::-webkit-slider-thumb:hover {
      background: var(--primary);
      transform: scale(1.1);
    }

    .slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--secondary);
      cursor: pointer;
      border: none;
      transition: all 0.2s;
    }

    .slider::-moz-range-thumb:hover {
      background: var(--primary);
      transform: scale(1.1);
    }

    .slider-labels {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--muted);
      margin-top: 5px;
    }

    .slider-value {
      text-align: center;
      font-weight: 600;
      color: var(--primary);
      margin-top: 8px;
      font-size: 16px;
    }

    .slider-value.dor {
      color: #e53e3e;
    }

    .slider-value.urgencia {
      color: #dd6b20;
    }

    .btn-submit {
      width: 100%;
      padding: 14px;
      background: var(--secondary);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 10px;
    }

    .btn-submit:hover {
      background: var(--primary);
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(49,130,206,0.3);
    }

    .mensagem-sucesso {
      display: none;
      padding: 15px;
      background: #c6f6d5;
      color: #22543d;
      border-radius: 10px;
      margin-top: 15px;
      text-align: center;
      font-weight: 600;
    }

    .mensagem-erro {
      display: none;
      padding: 15px;
      background: #fed7d7;
      color: #c53030;
      border-radius: 10px;
      margin-top: 15px;
      text-align: center;
      font-weight: 600;
    }

    footer {
      text-align: center;
      padding: 30px 0;
      color: var(--muted);
      font-size: 14px;
    }

    /* Modal do Quiz */
    .quiz-modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease;
    }

    .quiz-modal-overlay.active {
      display: flex;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .quiz-modal {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 600px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      padding: 30px;
      position: relative;
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from {
        transform: translateY(50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .quiz-modal-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .quiz-modal-header h2 {
      color: var(--primary);
      font-size: 28px;
      margin: 0 0 10px 0;
    }

    .quiz-modal-header p {
      color: var(--muted);
      font-size: 16px;
      margin: 0;
    }

    .quiz-form-group {
      margin-bottom: 25px;
    }

    .quiz-form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text);
      font-size: 15px;
    }

    .quiz-form-group select,
    .quiz-form-group input[type="text"],
    .quiz-form-group input[type="number"] {
      width: 100%;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      font-size: 15px;
      font-family: inherit;
      outline: none;
      transition: 0.2s;
      background: white;
    }

    .quiz-form-group select:focus,
    .quiz-form-group input:focus {
      border-color: var(--secondary);
      box-shadow: 0 0 0 3px rgba(49,130,206,0.2);
    }

    .quiz-radio-group {
      display: flex;
      gap: 20px;
      margin-top: 10px;
    }

    .quiz-radio-option {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
      background: white;
    }

    .quiz-radio-option:hover {
      border-color: var(--secondary);
      background: #f0f7ff;
    }

    .quiz-radio-option input[type="radio"] {
      margin-right: 8px;
      cursor: pointer;
    }

    .quiz-radio-option.selected {
      border-color: var(--secondary);
      background: #e6f2ff;
      color: var(--primary);
      font-weight: 600;
    }

    .quiz-slider-container {
      margin-top: 10px;
    }

    .quiz-slider-wrapper {
      position: relative;
      margin-bottom: 10px;
    }

    .quiz-slider {
      width: 100%;
      height: 8px;
      border-radius: 5px;
      background: #e2e8f0;
      outline: none;
      -webkit-appearance: none;
      appearance: none;
    }

    .quiz-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--secondary);
      cursor: pointer;
      transition: all 0.2s;
    }

    .quiz-slider::-webkit-slider-thumb:hover {
      background: var(--primary);
      transform: scale(1.1);
    }

    .quiz-slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--secondary);
      cursor: pointer;
      border: none;
      transition: all 0.2s;
    }

    .quiz-slider::-moz-range-thumb:hover {
      background: var(--primary);
      transform: scale(1.1);
    }

    .quiz-slider-labels {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--muted);
      margin-top: 5px;
    }

    .quiz-slider-value {
      text-align: center;
      font-weight: 600;
      color: var(--primary);
      margin-top: 8px;
      font-size: 16px;
    }

    .quiz-slider-value.urgencia {
      color: #dd6b20;
    }

    .quiz-btn-submit {
      width: 100%;
      padding: 14px;
      background: var(--secondary);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 20px;
    }

    .quiz-btn-submit:hover {
      background: var(--primary);
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(49,130,206,0.3);
    }

    .quiz-conditional-field {
      display: none;
      margin-top: 15px;
    }

    .quiz-conditional-field.show {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .dias-disponiveis-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .dia-checkbox-label {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
      background: white;
      font-weight: 500;
    }

    .dia-checkbox-label:hover {
      border-color: var(--secondary);
      background: #f0f7ff;
    }

    .dia-checkbox {
      width: 18px;
      height: 18px;
      cursor: pointer;
      margin: 0;
    }

    .dia-checkbox:checked + span {
      color: var(--primary);
      font-weight: 600;
    }

    .dia-checkbox-label:has(.dia-checkbox:checked),
    .dia-checkbox-label input:checked ~ span {
      border-color: var(--secondary);
      background: #e6f2ff;
      color: var(--primary);
      font-weight: 600;
    }

    /* Estilo para a informa√ß√£o do tratamento */
    #infoTratamento {
      display: none;
      margin-top: 15px;
      padding: 15px;
      background: #f0f7ff;
      border-left: 4px solid var(--secondary);
      border-radius: 8px;
      animation: fadeIn 0.4s ease;
    }
    #infoTratamento p {
      margin: 0;
      font-size: 15px;
      color: var(--text);
    }
    #infoTratamento strong {
      color: var(--primary);
    }
    /* Modal de Pagamento */
    .pagamento-modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1001;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease;
    }

    .pagamento-modal-overlay.active {
      display: flex;
    }

    .pagamento-modal {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 500px;
      width: 90%;
      padding: 30px;
      position: relative;
      animation: slideUp 0.3s ease;
    }

    .pagamento-modal-header {
      text-align: center;
      margin-bottom: 25px;
    }

    .pagamento-modal-header h2 {
      color: var(--primary);
      font-size: 24px;
      margin: 0 0 10px 0;
    }

    .pagamento-modal-header p {
      color: var(--muted);
      font-size: 15px;
      margin: 0;
    }

    .pagamento-valor {
      text-align: center;
      margin: 25px 0;
      padding: 20px;
      background: #f0f7ff;
      border-radius: 10px;
    }

    .pagamento-valor-label {
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 5px;
    }

    .pagamento-valor-valor {
      color: var(--primary);
      font-size: 32px;
      font-weight: 700;
    }

    .pagamento-opcoes {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 25px;
    }

    .pagamento-opcao {
      display: flex;
      align-items: center;
      padding: 18px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
      background: white;
    }

    .pagamento-opcao:hover {
      border-color: var(--secondary);
      background: #f0f7ff;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(49,130,206,0.15);
    }

    .pagamento-opcao.selected {
      border-color: var(--secondary);
      background: #e6f2ff;
    }

    .pagamento-opcao-icon {
      font-size: 32px;
      margin-right: 15px;
    }

    .pagamento-opcao-info {
      flex: 1;
    }

    .pagamento-opcao-info h3 {
      margin: 0 0 5px 0;
      color: var(--text);
      font-size: 16px;
      font-weight: 600;
    }

    .pagamento-opcao-info p {
      margin: 0;
      color: var(--muted);
      font-size: 13px;
    }

    .pagamento-opcao input[type="radio"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    .btn-pagamento-confirmar {
      width: 100%;
      padding: 14px;
      background: var(--secondary);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 20px;
    }

    .btn-pagamento-confirmar:hover {
      background: var(--primary);
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(49,130,206,0.3);
    }

    .btn-pagamento-confirmar:disabled {
      background: #cbd5e0;
      cursor: not-allowed;
      transform: none;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo"><h1><a href="index.html">Dentrix</a></h1></div>
    <nav>
      <ul>
        <li><a href="#perfil">Perfil</a></li>
        <li><a href="#consultas">Consultas</a></li>
        <li><a href="#pagamentos">Pagamentos</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section id="perfil" class="card">
      <h2>üë§ Perfil do Paciente</h2>
      <div class="perfil-info">
        <div class="perfil-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
        </div>
        <div class="detalhes">
          <p><strong>Nome:</strong> Jo√£o da Silva</p>
          <p><strong>Email:</strong> joao.silva@email.com</p>
          <p><strong>Data de Nascimento:</strong> 15/05/1985</p>
          <p><strong>Endere√ßo:</strong> Rua das Flores, 123, S√£o Paulo - SP</p>
        </div>
      </div>
    </section>

    <section id="consultas" class="card">
      <h2>üìÖ Consultas Marcadas</h2>
      <div class="consultas-lista" id="consultasLista">
        <div class="consulta-card">
          <span class="status confirmada">Confirmada</span>
          <h4>Limpeza de Rotina</h4>
          <p><strong>Data:</strong> 25/10/2025</p>
          <p><strong>Hora:</strong> 14:00</p>
          <p><strong>Profissional:</strong> Dra. Camila Ribeiro</p>
          <p><strong>Valor Pago:</strong> R$ 150,00</p>
          <div class="urgency-display">
            <p>N√≠vel de Urg√™ncia: Baixo</p>
            <div class="urgency-bar-bg"><div class="urgency-bar low"></div></div>
          </div>
        </div>
        <div class="consulta-card">
          <span class="status pendente">Pendente</span>
          <h4>Avalia√ß√£o de Implante</h4>
          <p><strong>Data:</strong> 30/10/2025</p>
          <p><strong>Hora:</strong> 09:30</p>
          <p><strong>Profissional:</strong> Dr. Lucas Andrade</p>
          <div class="urgency-display">
            <p>N√≠vel de Urg√™ncia: M√©dio</p>
            <div class="urgency-bar-bg"><div class="urgency-bar medium"></div></div>
          </div>
        </div>
        <div class="consulta-card">
          <span class="status confirmada">Confirmada</span>
          <h4>Clareamento Dental</h4>
          <p><strong>Data:</strong> 05/11/2025</p>
          <p><strong>Hora:</strong> 15:00</p>
          <p><strong>Profissional:</strong> Dra. Renata Melo</p>
          <p><strong>Valor Pago:</strong> R$ 420,00</p>
          <div class="urgency-display">
            <p>N√≠vel de Urg√™ncia: Baixo</p>
            <div class="urgency-bar-bg"><div class="urgency-bar low"></div></div>
          </div>
        </div>
      </div>

      <button class="btn-submit" onclick="marcarNovaConsulta()" style="margin-top: 20px;">Marcar nova consulta</button>
    </section>

    <section id="pagamentos" class="card">
      <h2>üí≥ Pagamentos Pendentes</h2>
      <div class="pagamentos-lista">
        <div class="pagamento-card">
          <div class="pagamento-info">
            <h4>Consulta de Avalia√ß√£o de Implante - 30/10/2025</h4>
            <p><strong>Valor: R$ 250,00</strong></p>
          </div>
          <div class="pagamento-acoes">
            <button class="btn-pix">Pagar com PIX</button>
            <button class="btn-boleto">Gerar Boleto</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>¬© 2025 Dentrix | Todos os direitos reservados</p>
  </footer>

  <!-- Modal do Quiz -->
  <div class="quiz-modal-overlay" id="quizModal">
    <div class="quiz-modal">
      <div class="quiz-modal-header">
        <h2>üìã Question√°rio de Consulta</h2>
        <p>Por favor, responda algumas perguntas para melhor atend√™-lo</p>
      </div>
      
      <form id="quizForm" onsubmit="salvarQuiz(event)">
        <!-- Pergunta 1: Rem√©dio Controlado -->
        <div class="quiz-form-group">
          <label>üíä Voc√™ toma rem√©dio controlado?</label>
          <div class="quiz-radio-group">
            <label class="quiz-radio-option" onclick="selectRadio(this, 'remedioControlado', 'sim')">
              <input type="radio" name="remedioControlado" value="sim" required>
              Sim
            </label>
            <label class="quiz-radio-option" onclick="selectRadio(this, 'remedioControlado', 'nao')">
              <input type="radio" name="remedioControlado" value="nao" required>
              N√£o
            </label>
          </div>
        </div>

        <!-- Pergunta 2: Tipo de Tratamento -->
        <div class="quiz-form-group">
          <label for="quizTipoTratamento">ü¶∑ Qual √© o tipo de tratamento?</label>
          <select id="quizTipoTratamento" name="tipoTratamento" required>
            <option value="">Selecione o tipo de tratamento</option>
            <option value="Limpeza / Profilaxia">Limpeza / Profilaxia</option>
            <option value="Restaura√ß√£o">Restaura√ß√£o</option>
            <option value="Canal (Endodontia)">Canal (Endodontia)</option>
            <option value="Extra√ß√£o">Extra√ß√£o</option>
            <option value="Clareamento Dental">Clareamento Dental</option>
            <option value="Ortodontia">Ortodontia</option>
            <option value="Implante">Implante</option>
            <option value="Pr√≥tese">Pr√≥tese</option>
            <option value="Avalia√ß√£o / Consulta">Avalia√ß√£o / Consulta</option>
            <option value="Atendimento de Urg√™ncia">Atendimento de Urg√™ncia</option>
            <option value="Periodontia">Periodontia</option>
            <option value="Cirurgia Oral">Cirurgia Oral</option>
          </select>
        </div>

        <!-- Informa√ß√£o do Tratamento (Dentista e Pre√ßo) -->
        <div id="infoTratamento"></div>

        <!-- Pergunta 3: Hor√°rio Dispon√≠vel -->
        <div class="quiz-form-group">
          <label for="quizHorarioDisponivel">‚è∞ Qual hor√°rio dispon√≠vel para voc√™?</label>
          <select id="quizHorarioDisponivel" name="horarioDisponivel" required>
            <option value="">Selecione o hor√°rio</option>
            <option value="Manh√£ (08:00 - 12:00)">Manh√£ (08:00 - 12:00)</option>
            <option value="Tarde (13:00 - 18:00)">Tarde (13:00 - 18:00)</option>
            <option value="Qualquer hor√°rio">Qualquer hor√°rio</option>
          </select>
        </div>

        <!-- Pergunta 3.5: Dias Dispon√≠veis -->
        <div class="quiz-form-group">
          <label for="quizDiasDisponiveis">üìÖ Quais dias voc√™ est√° dispon√≠vel para a consulta?</label>
          <div class="dias-disponiveis-grid">
            <label class="dia-checkbox-label">
              <input type="checkbox" name="diasDisponiveis" value="Segunda-feira" class="dia-checkbox" onchange="atualizarEstiloCheckbox(this)">
              <span>Segunda</span>
            </label>
            <label class="dia-checkbox-label">
              <input type="checkbox" name="diasDisponiveis" value="Ter√ßa-feira" class="dia-checkbox" onchange="atualizarEstiloCheckbox(this)">
              <span>Ter√ßa</span>
            </label>
            <label class="dia-checkbox-label">
              <input type="checkbox" name="diasDisponiveis" value="Quarta-feira" class="dia-checkbox" onchange="atualizarEstiloCheckbox(this)">
              <span>Quarta</span>
            </label>
            <label class="dia-checkbox-label">
              <input type="checkbox" name="diasDisponiveis" value="Quinta-feira" class="dia-checkbox" onchange="atualizarEstiloCheckbox(this)">
              <span>Quinta</span>
            </label>
            <label class="dia-checkbox-label">
              <input type="checkbox" name="diasDisponiveis" value="Sexta-feira" class="dia-checkbox" onchange="atualizarEstiloCheckbox(this)">
              <span>Sexta</span>
            </label>
            <label class="dia-checkbox-label">
              <input type="checkbox" name="diasDisponiveis" value="S√°bado" class="dia-checkbox" onchange="atualizarEstiloCheckbox(this)">
              <span>S√°bado</span>
            </label>
          </div>
          <p style="font-size: 12px; color: var(--muted); margin-top: 8px;">Selecione pelo menos um dia</p>
        </div>

        <!-- Pergunta 4: N√≠vel de Urg√™ncia -->
        <div class="quiz-form-group">
          <label for="quizNivelUrgencia">üö® Qual o n√≠vel de urg√™ncia?</label>
          <div class="quiz-slider-container">
            <div class="quiz-slider-wrapper">
              <input type="range" id="quizNivelUrgencia" name="nivelUrgencia" min="1" max="5" value="1" class="quiz-slider" required>
            </div>
            <div class="quiz-slider-labels">
              <span>Baixa</span>
              <span>M√©dia</span>
              <span>Alta</span>
              <span>Muito Alta</span>
              <span>Emerg√™ncia</span>
            </div>
            <div class="quiz-slider-value urgencia" id="quizValorUrgencia">1 - Baixa</div>
          </div>
        </div>

        <!-- Pergunta 5: Tempo de Dor (condicional) -->
        <div class="quiz-form-group">
          <label>üò£ Voc√™ est√° sentindo dor?</label>
          <div class="quiz-radio-group">
            <label class="quiz-radio-option" onclick="toggleDorField(this, 'sim')">
              <input type="radio" name="temDor" value="sim">
              Sim
            </label>
            <label class="quiz-radio-option" onclick="toggleDorField(this, 'nao')">
              <input type="radio" name="temDor" value="nao">
              N√£o
            </label>
          </div>
          
          <div class="quiz-conditional-field" id="tempoDorField">
            <label for="quizTempoDor" style="margin-top: 15px; display: block;">‚è±Ô∏è A quanto tempo sente dor?</label>
            <select id="quizTempoDor" name="tempoDor">
              <option value="">Selecione o tempo</option>
              <option value="Menos de 1 dia">Menos de 1 dia</option>
              <option value="1 a 3 dias">1 a 3 dias</option>
              <option value="4 a 7 dias">4 a 7 dias</option>
              <option value="1 a 2 semanas">1 a 2 semanas</option>
              <option value="Mais de 2 semanas">Mais de 2 semanas</option>
            </select>
          </div>
        </div>

        <button type="submit" class="quiz-btn-submit">‚úÖ Enviar Respostas</button>
      </form>
    </div>
  </div>

  <!-- Modal de Pagamento -->
  <div class="pagamento-modal-overlay" id="pagamentoModal">
    <div class="pagamento-modal">
      <div class="pagamento-modal-header">
        <h2>üí≥ Realizar Pagamento</h2>
        <p>Escolha a forma de pagamento para sua consulta</p>
      </div>
      
      <div class="pagamento-valor">
        <div class="pagamento-valor-label">Valor da Consulta</div>
        <div class="pagamento-valor-valor" id="pagamentoValor">R$ 250,00</div>
      </div>

      <form id="pagamentoForm">
        <div class="pagamento-opcoes">
          <label class="pagamento-opcao" onclick="selecionarPagamento(this, 'pix')">
            <span class="pagamento-opcao-icon">üì±</span>
            <div class="pagamento-opcao-info">
              <h3>PIX</h3>
              <p>Pagamento instant√¢neo e seguro</p>
            </div>
            <input type="radio" name="metodoPagamento" value="pix" required>
          </label>

          <label class="pagamento-opcao" onclick="selecionarPagamento(this, 'boleto')">
            <span class="pagamento-opcao-icon">üßæ</span>
            <div class="pagamento-opcao-info">
              <h3>Boleto Banc√°rio</h3>
              <p>Vencimento em at√© 3 dias √∫teis</p>
            </div>
            <input type="radio" name="metodoPagamento" value="boleto" required>
          </label>
        </div>

        <button type="submit" class="btn-pagamento-confirmar" id="btnConfirmarPagamento" disabled>
          Confirmar Pagamento
        </button>
      </form>
    </div>
  </div>

  <script>
    // Fun√ß√£o para reabrir o quiz
    function marcarNovaConsulta() {
      document.getElementById('quizModal').classList.add('active');
    }

    // Mapeamento de tratamentos para dentistas e pre√ßos
    const tratamentosInfo = {
      "Limpeza / Profilaxia": { dentista: "Dra. Camila Ribeiro", preco: 150.00 },
      "Restaura√ß√£o": { dentista: "Dra. Camila Ribeiro", preco: 200.00 },
      "Canal (Endodontia)": { dentista: "Dr. Lucas Andrade", preco: 800.00 },
      "Extra√ß√£o": { dentista: "Dr. Lucas Andrade", preco: 350.00 },
      "Clareamento Dental": { dentista: "Dra. Renata Mello", preco: 420.00 },
      "Ortodontia": { dentista: "Dra. Camila Ribeiro", preco: 250.00 }, // Avalia√ß√£o
      "Implante": { dentista: "Dr. Lucas Andrade", preco: 2500.00 },
      "Pr√≥tese": { dentista: "Dr. Lucas Andrade", preco: 1200.00 },
      "Avalia√ß√£o / Consulta": { dentista: "Qualquer profissional", preco: 100.00 },
      "Atendimento de Urg√™ncia": { dentista: "Qualquer profissional", preco: 300.00 },
      "Periodontia": { dentista: "Dra. Camila Ribeiro", preco: 400.00 },
      "Cirurgia Oral": { dentista: "Dr. Lucas Andrade", preco: 600.00 }
    };

    // Fun√ß√£o para exibir informa√ß√µes do tratamento
    document.getElementById('quizTipoTratamento').addEventListener('change', function() {
      const tipoTratamento = this.value;
      const infoDiv = document.getElementById('infoTratamento');
      
      if (tipoTratamento && tratamentosInfo[tipoTratamento]) {
        const info = tratamentosInfo[tipoTratamento];
        const precoFormatado = info.preco.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        
        infoDiv.innerHTML = `
          <p><strong>Profissional recomendado:</strong> ${info.dentista}</p>
          <p><strong>Valor estimado:</strong> ${precoFormatado}</p>
        `;
        infoDiv.style.display = 'block';
      } else {
        infoDiv.style.display = 'none';
        infoDiv.innerHTML = '';
      }
    });


    // Fun√ß√µes do Quiz
    function atualizarEstiloCheckbox(checkbox) {
      const label = checkbox.closest('.dia-checkbox-label');
      if (checkbox.checked) {
        label.style.borderColor = 'var(--secondary)';
        label.style.background = '#e6f2ff';
        label.style.color = 'var(--primary)';
        label.style.fontWeight = '600';
      } else {
        label.style.borderColor = '#e2e8f0';
        label.style.background = 'white';
        label.style.color = 'var(--text)';
        label.style.fontWeight = '500';
      }
    }

    function selectRadio(element, name, value) {
      // Remove sele√ß√£o de todos os radio buttons do mesmo grupo
      const radioGroup = document.querySelectorAll(`input[name="${name}"]`);
      radioGroup.forEach(radio => {
        const label = radio.closest('.quiz-radio-option');
        if (label) {
          label.classList.remove('selected');
        }
      });
      
      // Seleciona o radio button clicado
      const radio = element.querySelector(`input[value="${value}"]`);
      if (radio) {
        radio.checked = true;
        element.classList.add('selected');
      }
    }

    function toggleDorField(element, value) {
      const tempoDorField = document.getElementById('tempoDorField');
      const radio = element.querySelector(`input[value="${value}"]`);
      
      // Remove sele√ß√£o de todos os radio buttons
      document.querySelectorAll('input[name="temDor"]').forEach(r => {
        const label = r.closest('.quiz-radio-option');
        if (label) {
          label.classList.remove('selected');
        }
      });
      
      if (radio) {
        radio.checked = true;
        element.classList.add('selected');
        
        if (value === 'sim') {
          tempoDorField.classList.add('show');
          document.getElementById('quizTempoDor').required = true;
        } else {
          tempoDorField.classList.remove('show');
          document.getElementById('quizTempoDor').required = false;
          document.getElementById('quizTempoDor').value = '';
        }
      }
    }

    function salvarQuiz(event) {
      event.preventDefault();
      
      const formData = new FormData(event.target);
      const diasDisponiveis = formData.getAll('diasDisponiveis');
      
      if (diasDisponiveis.length === 0) {
        alert('Por favor, selecione pelo menos um dia dispon√≠vel.');
        event.preventDefault();
        return;
      }
      
      const quizData = {
        remedioControlado: formData.get('remedioControlado'),
        tipoTratamento: formData.get('tipoTratamento'),
        horarioDisponivel: formData.get('horarioDisponivel'),
        diasDisponiveis: diasDisponiveis,
        nivelUrgencia: parseInt(formData.get('nivelUrgencia')),
        temDor: formData.get('temDor'),
        tempoDor: formData.get('tempoDor') || null,
        dataResposta: new Date().toISOString()
      };
      
      // Salva no localStorage
      localStorage.setItem('quizPaciente', JSON.stringify(quizData));
      localStorage.setItem('quizRespondido', 'true');
      
      // Fecha o modal do quiz
      document.getElementById('quizModal').classList.remove('active');
      
      // Mostra o modal de pagamento ap√≥s um pequeno delay
      setTimeout(() => {
        document.getElementById('pagamentoModal').classList.add('active');
      }, 300);
    }

    function selecionarPagamento(element, metodo) {
      // Remove sele√ß√£o de todas as op√ß√µes
      document.querySelectorAll('.pagamento-opcao').forEach(opcao => {
        opcao.classList.remove('selected');
        const radio = opcao.querySelector('input[type="radio"]');
        if (radio) {
          radio.checked = false;
        }
      });
      
      // Seleciona a op√ß√£o clicada
      element.classList.add('selected');
      const radio = element.querySelector(`input[value="${metodo}"]`);
      if (radio) {
        radio.checked = true;
      }
      
      // Habilita o bot√£o de confirmar
      document.getElementById('btnConfirmarPagamento').disabled = false;
    }

    // Handler do formul√°rio de pagamento
    document.getElementById('pagamentoForm').addEventListener('submit', function(event) {
      event.preventDefault();
      
      const formData = new FormData(event.target);
      const metodoPagamento = formData.get('metodoPagamento');
      
      if (!metodoPagamento) {
        alert('Por favor, selecione uma forma de pagamento.');
        return;
      }
      
      // Simula o processamento do pagamento
      if (metodoPagamento === 'pix') {
        // Gera c√≥digo PIX simulado
        const codigoPix = '00020126360014BR.GOV.BCB.PIX0114+55119999999995204000053039865802BR5913DENTRIX CLINIC6009SAO PAULO62070503***6304' + Math.random().toString(36).substr(2, 4).toUpperCase();
        
        // Copia para √°rea de transfer√™ncia (se poss√≠vel)
        if (navigator.clipboard) {
          navigator.clipboard.writeText(codigoPix).then(() => {
            alert('‚úÖ C√≥digo PIX copiado para a √°rea de transfer√™ncia!\n\n' + 
                  'C√≥digo: ' + codigoPix + '\n\n' +
                  'Abra o app do seu banco e cole o c√≥digo para realizar o pagamento.');
          }).catch(() => {
            alert('‚úÖ C√≥digo PIX gerado!\n\n' + codigoPix + '\n\n' +
                  'Copie este c√≥digo e use no app do seu banco para realizar o pagamento.');
          });
        } else {
          alert('‚úÖ C√≥digo PIX gerado!\n\n' + codigoPix + '\n\n' +
                'Copie este c√≥digo e use no app do seu banco para realizar o pagamento.');
        }
      } else if (metodoPagamento === 'boleto') {
        // Gera c√≥digo de barras simulado
        const codigoBarras = '34191' + Math.random().toString().substr(2, 5) + 
                           '0' + Math.random().toString().substr(2, 10) + 
                           Math.random().toString().substr(2, 10) + 
                           Math.random().toString().substr(2, 1);
        
        alert('‚úÖ Boleto gerado com sucesso!\n\n' +
              'C√≥digo de barras: ' + codigoBarras + '\n\n' +
              'O boleto vence em 3 dias √∫teis. Voc√™ pode pagar em qualquer banco ou lot√©rica.');
      }
      
      // Salva informa√ß√£o do pagamento
      const pagamentoData = {
        metodo: metodoPagamento,
        valor: 250.00,
        data: new Date().toISOString(),
        status: metodoPagamento === 'pix' ? 'pendente' : 'aguardando'
      };
      
      const pagamentos = JSON.parse(localStorage.getItem('pagamentosPaciente')) || [];
      pagamentos.push(pagamentoData);
      localStorage.setItem('pagamentosPaciente', JSON.stringify(pagamentoData));
      
      // Fecha o modal de pagamento
      document.getElementById('pagamentoModal').classList.remove('active');

      // Mostra mensagem de sucesso
      setTimeout(() => {
        alert('‚úÖ Pagamento bem-sucedido!');
        // Recarrega a p√°gina para atualizar o status
        window.location.reload();
      }, 100);
    });

    function verificarQuiz() {
      // Sempre mostra o quiz quando o paciente entra na p√°gina
      document.getElementById('quizModal').classList.add('active');
    }

    // Fechar modal de pagamento ao clicar fora dele
    document.getElementById('pagamentoModal').addEventListener('click', function(event) {
      if (event.target === this) {
        this.classList.remove('active');
      }
    });

    // Fechar modal do quiz ao clicar fora dele
    document.getElementById('quizModal').addEventListener('click', function(event) {
      if (event.target === this) {
        this.classList.remove('active');
      }
    });

    // Verifica e mostra o quiz quando a p√°gina carregar
    document.addEventListener('DOMContentLoaded', function() {
      // Atualiza o valor do slider de urg√™ncia no quiz
      const quizNivelUrgenciaSlider = document.getElementById('quizNivelUrgencia');
      const quizValorUrgenciaDisplay = document.getElementById('quizValorUrgencia');
      
      if (quizNivelUrgenciaSlider && quizValorUrgenciaDisplay) {
        quizNivelUrgenciaSlider.addEventListener('input', function() {
          const valor = parseInt(this.value);
          const textos = ['', '1 - Baixa', '2 - M√©dia', '3 - Alta', '4 - Muito Alta', '5 - Emerg√™ncia'];
          quizValorUrgenciaDisplay.textContent = textos[valor];
        });
      }
      
      verificarQuiz();
    });

    function carregarConsultas() {
      const consultas = JSON.parse(localStorage.getItem('consultasPaciente')) || [];
      const consultasLista = document.getElementById('consultasLista');
      
      if (consultas.length === 0) {
        return;
      }

      consultas.forEach(c => {
        let urgenciaClass = 'low';
        let urgenciaTexto = 'Baixo';
        
        if (c.nivelUrgencia >= 5) {
          urgenciaClass = 'high';
          urgenciaTexto = 'Emerg√™ncia';
        } else if (c.nivelUrgencia >= 4) {
          urgenciaClass = 'high';
          urgenciaTexto = 'Muito Alta';
        } else if (c.nivelUrgencia >= 3) {
          urgenciaClass = 'medium';
          urgenciaTexto = 'Alta';
        } else if (c.nivelUrgencia >= 2) {
          urgenciaClass = 'medium';
          urgenciaTexto = 'M√©dia';
        }

        const card = document.createElement('div');
        card.className = 'consulta-card';
        card.innerHTML = `
          <span class="status ${c.status === 'confirmada' ? 'confirmada' : 'pendente'}">${c.status === 'confirmada' ? 'Confirmada' : 'Pendente'}</span>
          <h4>${c.tipo}</h4>
          <p><strong>Data:</strong> ${c.data}</p>
          <p><strong>Hora:</strong> ${c.hora}</p>
          <p><strong>Profissional:</strong> ${c.profissional}</p>
          ${c.status === 'confirmada' ? `<p><strong>Valor Pago:</strong> R$ ${c.valor.toFixed(2).replace('.', ',')}</p>` : `<p><strong>Valor:</strong> R$ ${c.valor.toFixed(2).replace('.', ',')}</p>`}
          ${c.nivelDor !== undefined ? `<p><strong>N√≠vel de Dor:</strong> ${c.nivelDor}/10</p>` : ''}
          <div class="urgency-display">
            <p>N√≠vel de Urg√™ncia: ${urgenciaTexto}</p>
            <div class="urgency-bar-bg"><div class="urgency-bar ${urgenciaClass}"></div></div>
          </div>
        `;
        consultasLista.appendChild(card);
      });
    }

    document.addEventListener('DOMContentLoaded', carregarConsultas);
  </script>
</body>
</html>
